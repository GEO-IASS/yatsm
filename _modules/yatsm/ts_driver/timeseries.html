

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>yatsm.ts_driver.timeseries &mdash; YATSM 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="YATSM 0.1.0 documentation" href="../../../index.html"/>
        <link rel="up" title="yatsm" href="../../yatsm.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../../index.html" class="fa fa-home"> YATSM</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#virtualenv">virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#python-dependencies">Python Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#quick-installation">Quick Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#developer-installation">Developer Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#virtual-machine-image">Virtual Machine Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/install.html#platform-support">Platform Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/dataset.html">Dataset Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/exploration.html">Model Parameter Exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/configuration.html">Model Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/configuration.html#configuration-file">Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/configuration.html#dataset-parameters">Dataset Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/configuration.html#model-parameters">Model Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/configuration.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/batch_interface.html">Batch Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/batch_interface.html#sun-grid-engine">Sun Grid Engine</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/map_static.html">Mapping Derived Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/map_changes.html">Mapping Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/classification.html">Classification</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/scripts.html">Command Line Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../scripts/gen_date_file.html"><cite>gen_date_file.sh</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scripts/run_yatsm.html"><cite>run_yatsm.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scripts/line_yatsm.html"><cite>line_yatsm.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scripts/yatsm_changemap.html"><cite>yatsm_changemap.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scripts/yatsm_map.html"><cite>yatsm_map.py</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scripts/train_yatsm.html"><cite>train_yatsm.py</cite></a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">YATSM</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      
          <li><a href="../../yatsm.html">yatsm</a> &raquo;</li>
      
    <li>yatsm.ts_driver.timeseries</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/ceholden/yatsm/blob/master/docs/_modules/yatsm/ts_driver/timeseries.rst" class="fa fa-github"> Edit on GitHub</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <h1>Source code for yatsm.ts_driver.timeseries</h1><div class="highlight"><pre>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="c"># vim: set expandtab:ts=4</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">/***************************************************************************</span>
<span class="sd"> timeseries</span>
<span class="sd">                                 A QGIS plugin</span>
<span class="sd"> Plotting &amp; visualization tools for time series analysis</span>
<span class="sd">                             -------------------</span>
<span class="sd">        begin                : 2013-03-15</span>
<span class="sd">        copyright            : (C) 2013 by Chris Holden</span>
<span class="sd">        email                : ceholden@bu.edu</span>
<span class="sd"> ***************************************************************************/</span>

<span class="sd">/***************************************************************************</span>
<span class="sd"> *                                                                         *</span>
<span class="sd"> *   This program is free software; you can redistribute it and/or modify  *</span>
<span class="sd"> *   it under the terms of the GNU General Public License as published by  *</span>
<span class="sd"> *   the Free Software Foundation; either version 2 of the License, or     *</span>
<span class="sd"> *   (at your option) any later version.                                   *</span>
<span class="sd"> *                                                                         *</span>
<span class="sd"> ***************************************************************************/</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="kn">as</span> <span class="nn">dt</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.io</span>

<div class="viewcode-block" id="AbstractTimeSeries"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries">[docs]</a><span class="k">class</span> <span class="nc">AbstractTimeSeries</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Abstract base class representing a remote sensing time series. </span>

<span class="sd">    AbstractTimeSeries class is meant to be sub-classed and its methods </span>
<span class="sd">    overriden. This interface simply defines attributes and methods expected </span>
<span class="sd">    by &quot;TSTools&quot; QGIS plugin.</span>
<span class="sd">    </span>
<span class="sd">    Required attributes:</span>
<span class="sd">        image_names                 Names or IDs for each image</span>
<span class="sd">        filenames                   File basename for each image</span>
<span class="sd">        filepaths                   Full path to each image</span>
<span class="sd">        length                      Number of images in time series</span>
<span class="sd">        dates                       np.array of datetime for each image</span>
<span class="sd">        n_band                      number of bands per image</span>
<span class="sd">        x_size                      number of columns per image</span>
<span class="sd">        y_size                      number of rows per image</span>
<span class="sd">        geo_transform               geo-transform of images</span>
<span class="sd">        projection                  projection of images</span>
<span class="sd">        px                          current pixel column</span>
<span class="sd">        py                          current pixel row</span>
<span class="sd">        has_results                 boolean indicating existence of model fit</span>

<span class="sd">    Required methods:</span>
<span class="sd">        fetch_pixel                 retrieve pixel data for given x/y</span>
<span class="sd">        fetch_result                retrieve result for given x/y</span>
<span class="sd">        get_data                    return dataset</span>
<span class="sd">        get_prediction              return predicted dataset for x/y</span>
<span class="sd">        get_breaks                  return break points for time segments</span>
<span class="sd">    </span>
<span class="sd">    Additional attributes:</span>
<span class="sd">        has_cache                   boolean indicating existence of cached data</span>
<span class="sd">        can_cache                   boolean indicating potential to cache data</span>
<span class="sd">        cache_folder                location of cache, if any</span>
<span class="sd">        mask_band                   band (index on 0) of mask within images</span>
<span class="sd">        mask_val                    values to mask</span>
<span class="sd">    </span>
<span class="sd">    Additional methods:</span>
<span class="sd">        apply_mask                  apply mask to dataset</span>
<span class="sd">        retrieve_from_cache         retrieve dataset from cached retrieval</span>
<span class="sd">        write_to_cache              write retrieved dataset to cache</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__metaclass__</span> <span class="o">=</span> <span class="n">abc</span><span class="o">.</span><span class="n">ABCMeta</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">image_pattern</span><span class="p">,</span> <span class="n">stack_pattern</span><span class="p">):</span>
        <span class="c"># Basic, required information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_pattern</span> <span class="o">=</span> <span class="n">image_pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack_pattern</span> <span class="o">=</span> <span class="n">stack_pattern</span>

        <span class="c"># Overide/set these within subclasser as needed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_cache</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">can_cache</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mask_band</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mask_val</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;A {c} time series of {n} images at {m}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">c</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>

<span class="c"># ADDITIONAL METHODS: override/set by subclasser as needed</span>
<div class="viewcode-block" id="AbstractTimeSeries.apply_mask"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.apply_mask">[docs]</a>    <span class="k">def</span> <span class="nf">apply_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mask_band</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">mask_val</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Use subclasser to set if capability is available &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
<div class="viewcode-block" id="AbstractTimeSeries.retrieve_from_cache"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_from_cache">[docs]</a>    <span class="k">def</span> <span class="nf">retrieve_from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Use subclasser to set if capability is available &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">False</span>
</div>
<div class="viewcode-block" id="AbstractTimeSeries.write_to_cache"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.write_to_cache">[docs]</a>    <span class="k">def</span> <span class="nf">write_to_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Use subclasser to set if capability is available &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="c"># REQUIRED PROPERTIES</span></div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.image_names"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.image_names">[docs]</a>    <span class="k">def</span> <span class="nf">image_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Common names or IDs for each image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.filenames"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.filenames">[docs]</a>    <span class="k">def</span> <span class="nf">filenames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; File basename for each image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.filepaths"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.filepaths">[docs]</a>    <span class="k">def</span> <span class="nf">filepaths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Full path to each image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.length"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.length">[docs]</a>    <span class="k">def</span> <span class="nf">length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Length of the time series &quot;&quot;&quot;</span>
        <span class="k">pass</span> 
</div>
    <span class="nd">@abc.abstractproperty</span>    
<div class="viewcode-block" id="AbstractTimeSeries.dates"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.dates">[docs]</a>    <span class="k">def</span> <span class="nf">dates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; np.array of datetime for each image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.n_band"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.n_band">[docs]</a>    <span class="k">def</span> <span class="nf">n_band</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; number of bands per image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.x_size"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.x_size">[docs]</a>    <span class="k">def</span> <span class="nf">x_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; number of columns per image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.y_size"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.y_size">[docs]</a>    <span class="k">def</span> <span class="nf">y_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; number of rows per image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.geo_transform"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.geo_transform">[docs]</a>    <span class="k">def</span> <span class="nf">geo_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; geo-transform for each image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.projection"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.projection">[docs]</a>    <span class="k">def</span> <span class="nf">projection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; projection for each image &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractproperty</span>
<div class="viewcode-block" id="AbstractTimeSeries.has_results"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.has_results">[docs]</a>    <span class="k">def</span> <span class="nf">has_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; boolean indicating existence of model fit &quot;&quot;&quot;</span>
        <span class="k">pass</span>


<span class="c"># HELPER METHOD</span></div>
<div class="viewcode-block" id="AbstractTimeSeries.get_ts_pixel"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_ts_pixel">[docs]</a>    <span class="k">def</span> <span class="nf">get_ts_pixel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Fetch pixel data for a given x/y and set to self.data </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            x                       column</span>
<span class="sd">            y                       row</span>
<span class="sd">                 </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">retrieve_pixel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

<span class="c"># REQUIRED METHODS</span></div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.retrieve_pixel"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_pixel">[docs]</a>    <span class="k">def</span> <span class="nf">retrieve_pixel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return pixel data for a given x/y and index in time series</span>

<span class="sd">        Args:</span>
<span class="sd">            x                       column</span>
<span class="sd">            y                       row</span>
<span class="sd">            index                   index of image in time series</span>

<span class="sd">        Returns:</span>
<span class="sd">            data                    n_band x 1 np.array</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.retrieve_result"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.retrieve_result">[docs]</a>    <span class="k">def</span> <span class="nf">retrieve_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Retrieve algorithm result for a given x/y</span>

<span class="sd">        Args:</span>
<span class="sd">            x                       column</span>
<span class="sd">            y                       row</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.get_data"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.get_prediction"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_prediction">[docs]</a>    <span class="k">def</span> <span class="nf">get_prediction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">band</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>   
</div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.get_breaks"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_breaks">[docs]</a>    <span class="k">def</span> <span class="nf">get_breaks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.get_px"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_px">[docs]</a>    <span class="k">def</span> <span class="nf">get_px</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; current pixel column number &quot;&quot;&quot;</span>
        <span class="k">pass</span>
    </div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.set_px"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.set_px">[docs]</a>    <span class="k">def</span> <span class="nf">set_px</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; set current pixel column number &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractmethod</span>
<div class="viewcode-block" id="AbstractTimeSeries.get_py"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.get_py">[docs]</a>    <span class="k">def</span> <span class="nf">get_py</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; current pixel row number &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="nd">@abc.abstractmethod</span>    
<div class="viewcode-block" id="AbstractTimeSeries.set_py"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.AbstractTimeSeries.set_py">[docs]</a>    <span class="k">def</span> <span class="nf">set_py</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; set current pixel row number &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</div>
    <span class="n">_px</span> <span class="o">=</span> <span class="n">abc</span><span class="o">.</span><span class="n">abstractproperty</span><span class="p">(</span><span class="n">get_px</span><span class="p">,</span> <span class="n">set_px</span><span class="p">)</span>
    <span class="n">_py</span> <span class="o">=</span> <span class="n">abc</span><span class="o">.</span><span class="n">abstractproperty</span><span class="p">(</span><span class="n">get_py</span><span class="p">,</span> <span class="n">set_py</span><span class="p">)</span>


<span class="c"># Utility functions</span></div>
<div class="viewcode-block" id="mat2dict"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.mat2dict">[docs]</a><span class="k">def</span> <span class="nf">mat2dict</span><span class="p">(</span><span class="n">matlabobj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility function:</span>
<span class="sd">    Converts a scipy.io.matlab.mio5_params.mat_struct to a dictionary</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">matlabobj</span><span class="o">.</span><span class="n">_fieldnames</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">matlabobj</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">scipy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">matlab</span><span class="o">.</span><span class="n">mio5_params</span><span class="o">.</span><span class="n">mat_struct</span><span class="p">):</span>
            <span class="n">d</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat2dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="n">field</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">d</span>
</div>
<div class="viewcode-block" id="ml2pydate"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.ml2pydate">[docs]</a><span class="k">def</span> <span class="nf">ml2pydate</span><span class="p">(</span><span class="n">ml_date</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility function:</span>
<span class="sd">    Returns Python datetime for MATLAB date</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromordinal</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">ml_date</span><span class="p">))</span> <span class="o">-</span> <span class="n">dt</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span> <span class="o">=</span> <span class="mi">366</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="py2mldate"><a class="viewcode-back" href="../../../yatsm/yatsm.ts_driver.timeseries.html#yatsm.ts_driver.timeseries.py2mldate">[docs]</a><span class="k">def</span> <span class="nf">py2mldate</span><span class="p">(</span><span class="n">py_date</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility function:</span>
<span class="sd">    Returns MATLAB datenum for Python datetime</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">py_date</span> <span class="o">+</span> <span class="n">dt</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span> <span class="o">=</span> <span class="mi">366</span><span class="p">))</span><span class="o">.</span><span class="n">toordinal</span><span class="p">()</span></div>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Chris Holden.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>